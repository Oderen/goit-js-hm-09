{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAO,CACXC,KAAMC,SAASC,cAAc,SAC7BC,WAAYF,SAASC,cAAc,uBACnCE,aAAcH,SAASC,cAAc,sBACrCG,OAAQJ,SAASC,cAAc,yBAGjC,IAAII,EAAc,EA8ClB,SAASC,EAASC,GACfC,EAAAZ,GAASa,OAAOC,QAAQ,GAAGH,I,CAG9B,SAASI,EAAUC,GACjBJ,EAAAZ,GAASa,OAAOI,QAAQ,GAAGD,I,CAjD7Bd,EAAKC,KAAKe,iBAAiB,UAAWC,IACpCA,EAAEC,iBAEF,MAAMd,EAAae,OAAOnB,EAAKI,WAAWgB,OACpCd,EAASa,OAAOnB,EAAKM,OAAOc,OAC5Bf,EAAec,OAAOnB,EAAKK,aAAae,OAExCC,EAAaC,aAAY,KAE7Bf,GAAe,EACfgB,QAAQC,IAAI,mBAAiCjB,IAgBjD,SAAuBkB,EAAUrB,EAAYsB,GAK3C,OAJAH,QAAQC,IAAI,aAAc,GAAGC,KAC7BF,QAAQC,IAAI,UAAW,GAAGE,KAC1BH,QAAQC,IAAI,gBAAiB,GAAGpB,KAEzB,IAAIuB,SAAQ,CAACC,EAASC,KAC3B,MAAMC,EAAgBC,KAAKC,SAAW,GAEtCC,YAAW,KACPH,EACJF,EAAQ,uBAAqBH,QAAiBC,OAE5CG,EAAK,sBAAoBJ,QAAeC,MAAU,GAEjDtB,EAAW,G,EA3Bd8B,CAFiB3B,EAEOH,EAAYC,GACjC8B,KAAK3B,GACL4B,MAAMvB,GAELN,IAAgBD,IAClBI,EAAAZ,GAASa,OAAO0B,KAAK,mBACP9B,EAAA,EACd+B,cAAcjB,G,GAEfhB,EAAa","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nconst refs = {\n  form: document.querySelector('.form'),\n  firstDelay: document.querySelector('input[name=\"delay\"]'),\n  regularDelay: document.querySelector('input[name=\"step\"]'),\n  amount: document.querySelector('input[name=\"amount\"]'),\n};\n\nlet countNumber = 0;\n\nrefs.form.addEventListener('submit', (e) => {\n  e.preventDefault();\n\n  const firstDelay = Number(refs.firstDelay.value);\n  const amount = Number(refs.amount.value);\n  const regularDelay = Number(refs.regularDelay.value);\n  \n  const intervalID = setInterval(() => {\n    \n    countNumber += 1;\n    console.log('Номер ітерації: ', countNumber);\n    const position = countNumber;\n    \n    createPromise(position, firstDelay, regularDelay)\n      .then(OnSucess)\n      .catch(OnFailure);\n\n    if (countNumber === amount) {\n      Notiflix.Notify.info('Цикл завершився');\n      countNumber = 0;\n      clearInterval(intervalID);\n    }\n  }, regularDelay);\n}\n);\n\nfunction createPromise(position, firstDelay, delay) {\n  console.log('position: ', `${position}`);\n  console.log('delay: ', `${delay}`);\n  console.log('First Delay: ', `${firstDelay}`);\n  \n  return new Promise((resolve, reject) => { \n    const shouldResolve = Math.random() > 0.3;\n\n    setTimeout(() => { \n    if (shouldResolve) {\n    resolve(`✅ Fulfilled promise ${position} in ${delay}ms`);\n  } else {\n    reject(`❌ Rejected promise ${position} in ${delay}ms`);\n      }\n    }, firstDelay);\n  });\n};\n\nfunction OnSucess(result) {\n   Notiflix.Notify.success(`${result}`);\n};\n\nfunction OnFailure(error) {\n  Notiflix.Notify.failure(`${error}`)\n};\n\n\n//             Notify\n\n// Notiflix.Notify.success('Sol lucet omnibus');\n\n// Notiflix.Notify.failure('Qui timide rogat docet negare');\n\n// Notiflix.Notify.warning('Memento te hominem esse');\n\n// Notiflix.Notify.info('Cogito ergo sum');\n\n\n\n\n\n\n\n"],"names":["$7Y9D8","parcelRequire","$47d4ff9957288465$var$refs","form","document","querySelector","firstDelay","regularDelay","amount","$47d4ff9957288465$var$countNumber","$47d4ff9957288465$var$OnSucess","result","$parcel$interopDefault","Notify","success","$47d4ff9957288465$var$OnFailure","error","failure","addEventListener","e","preventDefault","Number","value","intervalID","setInterval","console","log","position","delay","Promise","resolve","reject","shouldResolve","Math","random","setTimeout","$47d4ff9957288465$var$createPromise","then","catch","info","clearInterval"],"version":3,"file":"03-promises.a9cedcd1.js.map"}