{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAO,CACXC,KAAMC,SAASC,cAAc,SAC7BC,WAAYF,SAASC,cAAc,uBACnCE,aAAcH,SAASC,cAAc,sBACrCG,OAAQJ,SAASC,cAAc,yBAG7BI,EAAc,EA8ClB,SAASC,EAASC,GACfC,EAAAZ,GAASa,OAAOC,QAAQ,GAAUC,OAAPJ,G,CAG9B,SAASK,EAAUC,GACjBL,EAAAZ,GAASa,OAAOK,QAAQ,GAASH,OAANE,G,CAjD7Bf,EAAKC,KAAKgB,iBAAiB,UAAU,SAACC,GACpCA,EAAEC,iBAEF,IAAMf,EAAagB,OAAOpB,EAAKI,WAAWiB,OACpCf,EAASc,OAAOpB,EAAKM,OAAOe,OAC5BhB,EAAee,OAAOpB,EAAKK,aAAagB,OAExCC,EAAaC,aAAY,WAE7BhB,GAAe,EACfiB,QAAQC,IAAI,mBAAiClB,GAgBjD,SAAuBmB,EAAUtB,EAAYuB,GAK3C,OAJAH,QAAQC,IAAI,aAAc,GAAYZ,OAATa,IAC7BF,QAAQC,IAAI,UAAW,GAASZ,OAANc,IAC1BH,QAAQC,IAAI,gBAAiB,GAAcZ,OAAXT,IAEzB,IAAIwB,SAAQ,SAACC,EAASC,GAC3B,IAAMC,EAAgBC,KAAKC,SAAW,GAEtCC,YAAW,WACPH,EACJF,EAAQ,uBAAwChB,OAAfa,EAAS,QAAYb,OAANc,EAAM,OAEpDG,EAAK,sBAAqCjB,OAAfa,EAAS,QAAYb,OAANc,EAAM,M,GAE/CvB,E,IA3BH+B,CAFiB5B,EAEOH,EAAYC,GACjC+B,KAAK5B,GACL6B,MAAMvB,GAELP,IAAgBD,IAClBI,EAAAZ,GAASa,OAAO2B,KAAK,mBACP/B,EAAA,EACdgC,cAAcjB,G,GAEfjB,E","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nconst refs = {\n  form: document.querySelector('.form'),\n  firstDelay: document.querySelector('input[name=\"delay\"]'),\n  regularDelay: document.querySelector('input[name=\"step\"]'),\n  amount: document.querySelector('input[name=\"amount\"]'),\n};\n\nlet countNumber = 0;\n\nrefs.form.addEventListener('submit', (e) => {\n  e.preventDefault();\n\n  const firstDelay = Number(refs.firstDelay.value);\n  const amount = Number(refs.amount.value);\n  const regularDelay = Number(refs.regularDelay.value);\n  \n  const intervalID = setInterval(() => {\n    \n    countNumber += 1;\n    console.log('Номер ітерації: ', countNumber);\n    const position = countNumber;\n    \n    createPromise(position, firstDelay, regularDelay)\n      .then(OnSucess)\n      .catch(OnFailure);\n\n    if (countNumber === amount) {\n      Notiflix.Notify.info('Цикл завершився');\n      countNumber = 0;\n      clearInterval(intervalID);\n    }\n  }, regularDelay);\n}\n);\n\nfunction createPromise(position, firstDelay, delay) {\n  console.log('position: ', `${position}`);\n  console.log('delay: ', `${delay}`);\n  console.log('First Delay: ', `${firstDelay}`);\n  \n  return new Promise((resolve, reject) => { \n    const shouldResolve = Math.random() > 0.3;\n\n    setTimeout(() => { \n    if (shouldResolve) {\n    resolve(`✅ Fulfilled promise ${position} in ${delay}ms`);\n  } else {\n    reject(`❌ Rejected promise ${position} in ${delay}ms`);\n      }\n    }, firstDelay);\n  });\n};\n\nfunction OnSucess(result) {\n   Notiflix.Notify.success(`${result}`);\n};\n\nfunction OnFailure(error) {\n  Notiflix.Notify.failure(`${error}`)\n};\n\n\n//             Notify\n\n// Notiflix.Notify.success('Sol lucet omnibus');\n\n// Notiflix.Notify.failure('Qui timide rogat docet negare');\n\n// Notiflix.Notify.warning('Memento te hominem esse');\n\n// Notiflix.Notify.info('Cogito ergo sum');\n\n\n\n\n\n\n\n"],"names":["$6JpON","parcelRequire","$ce04d3a99e08e73b$var$refs","form","document","querySelector","firstDelay","regularDelay","amount","$ce04d3a99e08e73b$var$countNumber","$ce04d3a99e08e73b$var$OnSucess","result","$parcel$interopDefault","Notify","success","concat","$ce04d3a99e08e73b$var$OnFailure","error","failure","addEventListener","e","preventDefault","Number","value","intervalID","setInterval","console","log","position","delay","Promise","resolve","reject","shouldResolve","Math","random","setTimeout","$ce04d3a99e08e73b$var$createPromise","then","catch","info","clearInterval"],"version":3,"file":"03-promises.69512d2f.js.map"}